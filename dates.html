<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="main.css">
<script src="nicealerts.js"></script>
<title>Nice Try!</title>
</head>
<body onload="checkdate()">
<script>
function checkdate(){
	const d = new Date();
	month = d.getMonth();
	day = d.getDate();
	param = window.location.search.split("=");
	newPageTitle = 'Tür Nummer '+param[1];
	document.title = newPageTitle;
	if(month == 10)
	{
		if(day >= param[1])
		{
			switch(param[1]) {
			  case "1":
			  //bsp befüllung
				drawAlert("Als kleine einstimmung auf die Weihnachtszeit ist in Tag 1 ein Weihnachtslied drinnen.","https://www.youtube.com/watch?v=aAkMkVFwAoo")
				break;
				case "2":
				randomNumber = Math.floor(Math.random() * 101);
				hiddenfield = document.getElementById("RandomNumber");
				hiddenfield.value = randomNumber;
				document.getElementById("numberguess").style.display = "block";
				break;
				case "3":
				drawAlert("Nachdem schweren Spiel von gestern ein bisschen eine Auflockerung heute, viel Spaß", "https://www.youtube.com/watch?v=eCLp7zodUiI")
				break;
				case "4":
				dadjokes();
				break;
				case "5":
				document.getElementById("krukas").style.display = "block";
				break;
				case "6":
				console.log(param[1]);
				break;
				case "7":
				console.log(param[1]);
				break;
				case "8":
				console.log(param[1]);
				break;
				case "9":
				console.log(param[1]);
				break;
				case "10":
				console.log(param[1]);
				break;
				case "11":
				console.log(param[1]);
				break;
				case "12":
				console.log(param[1]);
				break;
				case "13":
				console.log(param[1]);
				break;
				case "14":
				console.log(param[1]);
				break;
				case "15":
				console.log(param[1]);
				break;
				case "16":
				console.log(param[1]);
				break;
				case "17":
				console.log(param[1]);
				break;
				case "18":
				console.log(param[1]);
				break;
				case "19":
				console.log(param[1]);
				break;
				case "20":
				console.log(param[1]);
				break;
				case "21":
				console.log(param[1]);
				break;
				case "22":
				console.log(param[1]);
				break;
				case "23":
				console.log(param[1]);
				break;
				case "24":
				console.log(param[1]);
				break;
			  default:
				drawAlert("nicht versuchen den Adventkalender kaputt zu machen!", "back");
			} 
		}
		else{
			drawAlert("Es ist noch zu früh, um dieses Türchen zu öffnen, sei nicht so neugierig!", "back");
		}
	}
	else{
		drawAlert("Du kannst diesen Adventkalender nur im Dezember aufmachen", "back");
	}
}
function guessNumber(){
		rand = document.getElementById("RandomNumber").value;
		guessedNumber = document.getElementById("guess").value;
		guesses = document.getElementById("guesses").innerHTML;;
		if(guessedNumber > 100 || guessedNumber < 0)
		{
			drawAlert("Die Zahlen gehen nur von 0 bis 100", "NO");
		}
		else{
			if(guessedNumber > rand)
			{
				document.getElementById("higherlower").innerHTML = "Niedriger";
				guesses ++;
				document.getElementById("guesses").innerHTML = guesses;
			}
			else if(guessedNumber < rand)
			{
				document.getElementById("higherlower").innerHTML = "Höher";
				guesses ++;
				document.getElementById("guesses").innerHTML = guesses;
			}
			else if(guessedNumber == rand)
			{
				drawAlert("Die Zahl war "+rand+" und du hast nur "+guesses+" Versuche gebraucht, Gratulation!", "NO");
				guesses ++;
			}
		}
	}
function dadjokes()
{
	const url = "https://v2.jokeapi.dev/joke/Any?blacklistFlags=nsfw,religious,political,racist,sexist,explicit";
	fetch(url)
	.then(x => x.text())
	.then(y => displayjoke(y));
}
function displayjoke(joke)
{
	tmpjoke =  JSON.parse(joke);
	if (tmpjoke.type == 'twopart') {
		document.getElementById("setup").innerHTML = tmpjoke.setup;
		document.getElementById("delivery").innerHTML = tmpjoke.delivery;
	}
	else if (tmpjoke.type == 'single'){
		document.getElementById("setup").innerHTML = tmpjoke.joke;
	}
	else{
		document.getElementById("setup").innerHTML = "Es gab einen Fehler, reloade die Seite und probier es neu";
	}
	document.getElementById("dadjokes").style.display = "block";
}
</script>
</body>
<div id="numberguess" style="display:none">
	<h1 class="guess">Nummernraten</h1>
	<input type="hidden" id="RandomNumber"></input>
	<p class="guess">Ich (das System) habe mir eine Zufällige Nummer zwischen 1 und 100 überlegt, in dem Eingabefeld unten kannst du raten was für eine Nummer ich mir überlegt habe, und ich sage dir ob meine Nummer größer oder kleiner ist. Mal schauen wie viele Versuche du brauchst.</p>
	<input class="guessfield" type="number" id="guess" placeholder="Nummer eingeben" min="0" max="100"><br>
	<button class="guessfield" id="guessbutton" type="button" onclick="guessNumber()">Zahl Raten</button>
	<h2 class="guess"> Anzahl der Versuche: </h2><p class="guess" id="guesses">0</p><br>
	<h3 class="guess" id="higherlower"></h3>
</div>

<div id="dadjokes" style="display:none">
	<h1 class="guess" id="setup"></h1>
	<p class="guess" id="delivery"></p>
</div>
<div id="krukas" style="display:none">
	 <img src="pics/Krukas_schrift.png" alt="Krukas" id="krukasImage"> 
</div>

</html> 